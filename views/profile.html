<!--
 Copyright (c) 2018 Yanke Guo <guoyk.cn@gmail.com>
 
 This software is released under the MIT License.
 https://opensource.org/licenses/MIT
-->

<!DOCTYPE html>
<html>

<head>
    {{ template "common/head" }}
    <title>Bunker - 个人信息</title>
</head>

<body>
    {{ template "common/navbar" .}}
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="page-header">
                    <h3>
                        <i class="fa fa-user-circle" aria-hidden="true"></i>&nbsp;个人信息</a>
                    </h3>
                    <hr/>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        基础信息
                    </div>
                    <ul class="list-group">
                        <li class="list-group-item">
                            <b>ID</b>
                            <span class="pull-right">{{.Auth.User.ID}}</span>
                        </li>
                        <li class="list-group-item">
                            <b>用户名</b>
                            <span class="pull-right">{{.Auth.User.Account}}</span>
                        </li>
                        <li class="list-group-item">
                            <b>类型</b>
                            <span class="pull-right">{{.UserType}}</span>
                        </li>
                        <li class="list-group-item">
                            <b>创建时间</b>
                            <span class="pull-right">{{.CreatedAt}}</span>
                        </li>
                        <li class="list-group-item">
                            <b>最近使用</b>
                            <span class="pull-right">{{.UsedAt}}</span>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="col-md-4">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        修改密码
                    </div>
                    <div class="panel-body">
                        <form action="/profile/change-password" method="post">
                            {{.CSRF.CreateHTML}}
                            <div class="form-group">
                                <label>旧密码</label>
                                <input class="form-control input-sm" type="password" name="old_password" />
                            </div>
                            <div class="form-group">
                                <label>新密码</label>
                                <input class="form-control input-sm" type="password" name="new_password" placeholder="密码必须大于6位" />
                            </div>
                            <div class="form-group">
                                <label>重复密码</label>
                                <input class="form-control input-sm" type="password" name="rpt_password" placeholder="重复输入新密码" />
                            </div>
                            <div class="form-group">
                                <input class="btn btn-block btn-primary btn-sm" type="submit" value="修改密码" /> {{if .Flash.ErrorMsg}}
                                <span class="help-block text-danger">
                                    {{.Flash.ErrorMsg}}
                                </span>
                                {{end}} {{if .Flash.SuccessMsg}}
                                <span class="help-block text-success">
                                    {{.Flash.SuccessMsg}}
                                </span>
                                {{end}}
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {{ template "common/foot" }}
</body>

</html>>